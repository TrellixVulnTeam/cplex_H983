<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2017" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2017" />
<meta name="security" content="public" />
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="reference" />
<meta name="DC.Title" content="CPU mask to bind threads to cores" />
<meta name="abstract" content="Specifies how CPLEX binds threads to cores" />
<meta name="Description" content="Specifies how CPLEX binds threads to cores" />
<meta name="DC.subject" content="CPX_PARAM_CPUMASK, CPXPARAM_CPUmask, CPUmask, cpumask, processor affinity, multithreading, CPU mask, threads, binding to cores, processors" />
<meta name="keywords" content="CPX_PARAM_CPUMASK, CPXPARAM_CPUmask, CPUmask, cpumask, processor affinity, multithreading, CPU mask, threads, binding to cores, processors" />
<meta name="DC.Relation" scheme="URI" content="../../../CPLEX/Parameters/topics/introListAlpha.html" />
<meta name="DC.Date" scheme="iso8601" content="2017-11-14" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="param_CPUmask" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../.././ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../.././swg_info_common_opti.css" />
<link rel="Start" href="../../../CPLEX/Parameters/topics/introListAlpha.html" />
<title>CPU mask to bind threads to cores</title>
</head>
<body id="param_CPUmask"><div role="main">
<h1 class="title topictitle1">CPU mask to bind threads to cores</h1>
<div class="body refbody"><p class="shortdesc">Specifies how CPLEX binds threads to cores</p>
<div class="section"><h2 class="title sectiontitle">Purpose</h2>    
    <p class="p">Specifies whether and how CPLEX binds threads to cores</p>
</div>
<div class="tableborder">
<table cellpadding="4" cellspacing="0" summary="" class="table" rules="none" frame="border" border="1"><thead class="thead" align="left"><tr class="row"><th class="entry nrule thleft" valign="top" width="12.5%" id="d146450e42">API</th>
<th class="entry nrule thleft" valign="top" width="50%" id="d146450e44">Parameter Name</th>
<th class="entry nrule thleft" valign="top" width="37.5%" id="d146450e46">Name prior to V12.6.0</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">C</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">CPXPARAM_CPUmask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 ">CPX_PARAM_CPUMASK</td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">C++</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">IloCplex::Param::CPUmask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">Java</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">IloCplex.Param.CPUmask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">.NET</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">Cplex.Param.CPUmask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">OPL</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 "> </td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">Python</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">parameters.cpumask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">MATLAB</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">Cplex.Param.cpumask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">Interactive</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">cpumask</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
<tr class="row"><td class="entry nrule" valign="top" width="12.5%" headers="d146450e42 ">Identifier</td>
<td class="entry nrule" valign="top" width="50%" headers="d146450e44 ">1144</td>
<td class="entry nrule" valign="top" width="37.5%" headers="d146450e46 "> </td>
</tr>
</tbody>
</table>
</div>
<div class="section"><h2 class="title sectiontitle">Description</h2>
<p class="p">This parameter specifies how CPLEX should bind threads to cores 
on platforms where CPLEX supports binding threads to cores. 
Currently, CPLEX supports CPU binding of threads to cores on AIX and Linux platforms.</p>
 
<p class="p">This feature is known as CPU binding. It is also 
sometimes known as <em class="ph i">processor affinity</em>.</p>


<ul class="ul"><li class="li"><p class="p">If the value is "off" in lower case, then 
CPLEX does not bind threads to cores.</p>
</li>
<li class="li"><p class="p">If the value is "auto" in lower case, then by 
<strong class="ph b">default</strong> CPLEX decides whether or not to bind 
threads to cores.</p>
</li>
<li class="li"><p class="p">Otherwise, CPLEX treats 
the value of this parameter as a 
hexadecimal number without the usual <samp class="ph codeph">0x</samp> prefix. 
Thus a valid string consists of these elements:</p>

<ul class="ul"><li class="li">any digit from 0 (zero) through 9 (inclusive)</li>
<li class="li">any lower case character in the range a through f (inclusive)</li>
<li class="li">any upper case character in the range A through F (inclusive)</li>
</ul>

<p class="p">CPLEX rejects a string containing any other digits or characters than those.</p>
</li>
</ul>


<div class="p">When the value of this parameter is a valid string (that is, a hexadecimal number, 
not "off" and not "auto"), it serves as a mask to specify which cores 
CPLEX is allowed to use. 
Each bit of this hexadecimal number corresponds to a core. 
CPLEX uses the <em class="ph i">i<sup class="ph sup">th</sup></em> core 
if and only if the  <em class="ph i">i<sup class="ph sup">th</sup></em> bit of this string is set to 1 (one). 
For example, 
<ul class="ul"><li class="li"><samp class="ph codeph">00000001</samp> designates core #0.</li>
<li class="li"><samp class="ph codeph">00000003</samp> designates cores #0 and #1.</li>
<li class="li"><samp class="ph codeph">FFFFFFFF</samp> designates all cores #0 through #31.</li>
</ul>
</div>

<p class="p">Note that the CPU mask can designate non-existent logical cores; for example, 
<samp class="ph codeph">FFFFFFFF</samp> is a valid value on a 4-core machine. In such cases, 
CPLEX disregards the bits corresponding to non-existent logical cores.</p>


<p class="p"><strong class="ph b">Tip</strong>: For GNU/Linux users, this parameter behaves like the 
<samp class="ph codeph">taskset</samp> command (except that values of this parameter 
lack the prefix <samp class="ph codeph">0x</samp>).</p>
</div>
<div class="section"><h2 class="title sectiontitle">Examples</h2>
<ul class="ul"><li class="li"><p class="p">For example, if a user sets this CPU mask parameter to the 
hexadecimal value "f" on a 16-core machine, and the user sets the
<a class="xref" href="Threads.html" title="Sets the default number of parallel threads that will be invoked by any CPLEX parallel optimizer.">global thread count</a> parameter 8, 
then CPLEX binds two threads to each of the first four cores, 
resulting in a total of 8 threads. CPLEX will not use any of 
the remaining 12 cores.  </p>
</li>
<li class="li"><p class="p">For example, on a 16 core machine, consider the difference between the value 
"off" and the value "ffff". If the value of this parameter is "off" CPLEX does 
no binding. If the value of this parameter is "ffff", CPLEX binds threads to 
cores. </p>
</li>
</ul>
</div>
<div class="section"><h2 class="title sectiontitle">Terminology</h2>
<p class="p">The description of this parameter observes the following conventions 
in terminology.</p>

<p class="p">The term <em class="ph i">CPU</em> (that is, central processing unit)  
corresponds to a single chip; that chip may include multiple physical cores. </p>


<p class="p">The term <em class="ph i">logical core</em> is synonymous with the term 
<em class="ph i">virtual core</em>; the operating system reports the number of these 
logical cores as the number of cores present on the machine. 
This number can be different from the number of physical cores in the machine 
when features such as hyperthreading are enabled in the CPU.</p>

<p class="p"> Round-robin refers to the algorithm that repeats the cycle of 
assigning one thread to each core until all threads are assigned to a core.</p>
</div>
<div class="section"><div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="A two-column table showing possible strings and their meaning." class="table PlainHead" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Values</span></caption><thead class="thead" align="left"><tr class="row" valign="top"><th class="entry thleft" align="left" valign="top" id="d146450e248">String</th>
<th class="entry thleft" align="left" valign="top" id="d146450e250">Meaning</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row" valign="top"><td class="entry" valign="top" headers="d146450e248 ">"off"</td>
<td class="entry" valign="top" headers="d146450e250 ">CPLEX performs no binding.</td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d146450e248 ">"auto"</td>
<td class="entry" valign="top" headers="d146450e250 "><strong class="ph b">Default</strong> CPLEX decides whether 
to bind threads to cores. </td>
</tr>
<tr class="row" valign="top"><td class="entry" valign="top" headers="d146450e248 "><p class="p">A string consisting of digits or characters from the set {0-9, a-f, A-F}</p>
 </td>
<td class="entry" valign="top" headers="d146450e250 ">CPLEX binds the threads in round-robin fashion to the 
cores specified by the mask.</td>
</tr>
</tbody>
</table>
</div>

</div>
<div class="section"><h2 class="title sectiontitle">See also</h2>
<p class="p"><a class="xref" href="Threads.html" title="Sets the default number of parallel threads that will be invoked by any CPLEX parallel optimizer.">global thread count</a></p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../CPLEX/Parameters/topics/introListAlpha.html" title="CPLEX parameters, documented here alphabetically by name in the Callable Library (C API), are available in the C++, Java, .NET, and Python APIs, as well as in the Interactive Optimizer and the MathWorks MATLAB connector.">List of CPLEX parameters</a></div>
</div>
</div></div></body>
</html>